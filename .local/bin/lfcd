#!/bin/sh

#tmp="$(mktemp)" && lf -last-dir-path="$tmp" "$@" | [ -f "$tmp" ] && dir="$(cat "$tmp")" && rm -f "$tmp" >/dev/null && [ -d "$dir" ] && [ "$dir" != "$(pwd)" ] && cd "$dir"

tmp="$(mktemp)" && \
lf -last-dir-path="$tmp" "$@" && \
if [ -f "$tmp" ]; then
    dir="$(cat "$tmp")"
    rm -f "$tmp" >/dev/null
    if [ -d "$dir" ]; then
        if [ "$dir" != "$(pwd)" ]; then
            cd "$dir"
        fi
    fi
fi

$SHELL
